Paper 3 

Title And Authors:- 

The Secret Life of Commented-Out Source Code 

Tri Minh Triet Pham 

Jinqiu Yang 

Conference Program ICPC 2020 

Introduction And Motivation:- 

Source code comments play an important role in software development and maintenance, e.g., helping developers document and understand the code logics and ease the maintenance efforts out and modify buggy lines to produce temporary patches. Since developers may not be sure about the quality and stability of the fix, they may prefer to leave the original code logic in comments. Figure 2 shows an example of utilizing CO code in Apache CXF. When updated to work with JDK 11, line 3 was commented out as part of the fix for CXF-7741 that can quickly address the symptom of the unsuccessful build. Note that this temporary fix does not fix the root cause. Moreover, this temporary fix introduces flaky tests. The CO code was not uncommented until years later after several flaky tests were reported (i.e., CXF-8086 and CXF-8087). The CO code in this example is useful to help developers quickly decide how to fix the reported flaky tests. In total, we study CO code practices in six open-source projects of different sizes (LOC) and from diverse domains: VLC Android and NewPipe are two mobile applications from F-Droid dataset [3]; Groovy and CXF are desktop applications from Apache foundation [4]; JUNG is a popular network/graph framework that is used in a previous comment classification work [20]; and SWT is a graphical interface toolkit for Eclipse. CO code practice is controversial in the public eye. For example, we find many heated discussions on the usage of CO code on Stack Overflow While there exist valid concerns on CO code practice, there are cases where CO code practice may help developers effectively handle disruptions during the development. However, such effectiveness comes at a cost—developers may overlook the instability of CO code and forget to stabilize the temporary solutions that use CO code. using the keyword “commented out code”. 

Research And Methodology:- 

• RQ1: How prevalent is CO code practice? 

• RQ2:What are the evolution patterns of CO code? 

• RQ3: How often do CO code lines co-transit? 

• RQ4: What are the purposes of utilizing CO code practice? 

RQ1: How prevalent is CO code practice? 

s the total number of comment lines, the numbers of comment lines in license and Javadoc, and the total number of CO code lines for the studied projects. The majority of the comments are about license and Javadoc. Only a small portion of all the comments are code comments that explain code logics using natural language. Table 3 also shows the percentage of CO code lines among all the comments, ranging from 1.2% to 5.3%. After excluding license and Javadoc, the percentage of CO code lines in the studied projects ranges from 2.3% to 9.5%. The results shows that CO code instances are not prevalent in the recent versions. In addition, we also analyze the CO code activities in different development periods in the entire development history. Figure 4 shows that how many code lines are being actively developed/maintained in the equally divided ten time intervals. In particular, we quantify the development/maintenance activities using two metrics: 1) how many CO code lines are being added (the white bars in Figure 4), i.e., by either the transitions comment or introduce; and 2) how many CO code lines are no longer commented out (the gray bars in Figure 4), i.e., by either the transitions uncomment or fade. 

RQ2: What are the evolution patterns of CO code? 

s the details of CO code evolution patterns in the studied projects. Most of the CO code instances will never become live code again, i.e., P1 and P2 take the majority of the cases. Most of Pattern 1 cases are caused by commenting out code before deletion, usually as part of a large-scale refactoring or implementation change, e.g., a to-be-implemented feature is significantly modified. Pattern 2 means that the CO code instances remain in the repositories as of the newest version. They may become live code in the future. The P2 cases are typically caused by incomplete features that developers are still actively working on, e.g., the relevant test cases are commented out to avoid meaningless failures. The results show that developers leverage CO code practice to temporarily harbor some code logics which will later be reenabled. In fact, the utilization of code logics in CO code may be more frequent than what the union of P3 and P4 indicates. Recall the example shown in Introduction (Figure 1), CO code line may become obsolete but its code logic can still be reused by developers. 

RQ3: How often do CO code lines co-transit? 

s how often CO code lines co-transit, which is reflected by uncomment rate of the relevant follow-up commits. In particular Figure 6 highlights the percentages of commits with uncomment rate of 100% and non-100%. As we analyzed two types of transitions, we present the results separately, i.e., the CO code lines that are 1) introduced as CO code → uncommented (the left side) and 2) commented out → uncommented (the right side). A non-100% uncomment rate indicates that the involved CO code lines are more scattered in the evolution, i.e., it may take several fellow-up commits to uncomment all the CO code lines that are initially introduced in the same commit. If the evolution of CO code instances is more scattered, it would be more challenging to perform uncommenting activities since the ad-hoc and tedious process may be more error-prone. Our study shows that many of the CO code-related commits are scattered, e.g., 87% of the relevant commits in Eclipse SWT involving gradually uncommenting part of the CO code lines. One reason we notice is that the total number of CO code introduced directly may contain a larger number of CO code lines, e.g., typically for implementing new features. An example of such practice is that developers add a chunk of code as CO code to implement a new feature, which is not completely ready due to various reasons, hence developers may need to gradually uncomment the CO code lines. 

RQ4: What are the purposes of utilizing CO code practice? 

Our manual study (i.e., on 342 comment transitions and 161 uncomment transitions) reveals a list of motivations behind the transitions on CO code. When CO code is introduced as CO code (i.e., one type of comment transition), the most common motivation is to introduce new functionalities, however developers temporarily comment out such code since the dependent functionalities are not complete as a result of work in progress, pending refactoring or design changes. An interesting exception is that, in VLC Android we find a large number of CO code instances introduced due to importing the source code of an external library into the VLC codebase. Some other common usages include copying code templates from documentation that have CO code embedded, and for code debugging. The transition of faded as CO code is very straightforward, for which the primary purpose we find is to remove CO code and clean up codebase. For the transition of commented, the most common motivations include marking the code for later permanent removal during nontrivial software maintenance efforts, such as refactoring, adding new functionalities, or design change. For the transition of uncomment, there are two primary motivations. First, similar to the motivation of introduced as CO code, developers uncomment CO code to introduce the functionalities in CO code when the roadblocks are removed, i.e., the dependent code is ready. Second, we find that developers often uncomment CO code to revert the changes made by previous commits in which developers comment out source code. We also notice that developers may uncomment CO code both intentionally and unintentionally. Developers intentionally uncomment CO code to test new functionality, to toggle features, or to fix bugs. 

Result:-  

In this section, we summarize prior studies on comment and source code analysis, self-admitted technical debt and feature toggling. Comments quality assessment and categorization. There have been many studies on comment analysis. Here we describe the most relevant studies that focuses on discussing the quality of comment and performing comment categorization. Haouari et al. [7] proposed a taxonomy of comments that includes categories in total. The categorization is based on four dimensions, i.e., object, type, style and quality. Steidl et al. [20] proposed a quality model and metrics to assess the quality of comments and surveyed to show the relevance of their metric to developers in practice. In particular, they proposed to use classification techniques to categorize comments automatically based on a mixture of location and purpose. Their classification approach achieves a precision of 89% and a recall of 95% for identifying CO code. Pascarella and Bacchelli [16] extended the work by Steidl et al. [20] by providing finer-grained comment categories. In addition, Pascarella and Bacchelli experimented different classification algorithms and showed promising results to classify comments into six major categories and 16 sub-categories. 

Conclusion:-  

Commented-out code is cited as a controversial coding practice. Despite the popularity of studies on comments, CO code is often excluded in previous studies. In this paper, we conduct the first study on CO code and focus on its prevalence, evolution, motivation, and potential maintenance challenges. We develop automated solutions to detect CO code instances and track their histories in code repositories. Moreover, we perform a manual analysis to understand the adoption of CO code practices and the related challenges. Our study on six open-source software systems reveals that despite the low prevalence of CO code in a recent version, CO code practice is actively used in certain development phases, i.e., up to 20% of the commits involving at least one CO code instance. Moreover, by analyzing the evolution of CO code, we find that while CO code introduced in the same commit does not often co-transit again, e.g., being uncommented together. Last, our manual analysis shows that there exist various maintenance reasons for developers to utilize CO code practice. This paper presents insights on CO code practice that is previously overlooked, and sheds light on its prevalence and evolution in software development. Further studies are needed to provide tooling support to help developers better maintain and utilize CO code. 
